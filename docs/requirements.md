# 要件定義書

## 1. 概要
AWSのコストを可視化・分析し、将来のコストを予測するためのデスクトップアプリケーション。
ユーザーは複数のAWSアカウントのコストを一元管理し、詳細な分析や将来の着地見込のシミュレーションを行うことができる。

## 2. アクター
- **ユーザー**: AWSリソースのコストを管理・最適化したい開発者、マネージャー、個人利用者。

## 3. ユースケース

### UC-01: コスト概況の把握 (Dashboard)
**目的**: 現在の月のコスト状況と予算に対する進捗を素早く把握する。
- **主な機能**:
    - **KPI表示**: 今月のコスト実績、着地見込（予測）、予算残高・消化率を表示する。
    - **推移グラフ**: 日次のコスト推移をエリアチャートで可視化する。
    - **内訳表示**: サービスごとのコスト、推移（スパークライン）、構成比を表示する。
    - **フィルタリング**: 対象月、対象アカウントを切り替えて表示する。
    - **手動同期**: AWS Cost Explorerから最新データを取得する。

### UC-02: コストの詳細分析 (Analytics)
**目的**: 期間や粒度を自由に設定し、コストの発生傾向や内訳を詳細に分析する。
- **主な機能**:
    - **柔軟な期間設定**: 任意の開始日〜終了日を指定可能。
    - **粒度切り替え**: 月次（Monthly）と日次（Daily）の切り替え。
    - **ピボットテーブル**: サービスを行、期間を列としたクロス集計表を表示する。
    - **並べ替え**: コスト合計やサービス名でのソート。

### UC-03: 将来コストの予測シミュレーション (Forecast)
**目的**: 過去の傾向や変動要因を加味して、今月の最終的な着地コストをより高精度に予測する。
- **主な機能**:
    - **パラメータ調整**:
        - **参照期間**: 直近何日間の平均を用いるか（7/14/30/60日）。
        - **変動係数**: 季節性やイベントによる増減を係数（%）で調整。
        - **追加固定費**: 既知の追加出費（RI購入など）を加算。
    - **可視化**: 実績データと予測データを連結したグラフを表示。
    - **評価**: 予算に対する超過判定とアラート表示。

### UC-04: アカウントと環境の設定 (Settings)
**目的**: アプリケーションが参照するAWSアカウント情報を管理する。
- **主な機能**:
    - **アカウント管理**: AWSアカウントの追加（表示名、ID、プロファイル名）、削除、一覧表示。
    - **デバッグ機能**: 動作確認用のダミーデータ生成。

## 4. データモデル概要
- **Account**: AWSアカウント情報（Name, ID, Profile）。
- **CostRecord**: 日次・サービスごとのコストデータ（Date, Service, Amount, AccountID）。

## 5. 技術・非機能要件
- **プラットフォーム**: Electron (macOS, Windows, Linux)。
- **データストレージ**: ローカル環境（SQLite/JSON等）にデータを保存し、外部サーバへの送信は行わない（AWS APIを除く）。
- **認証**: ローカルのAWS Credential (~/.aws/credentials) を使用。
- **UI/UX**: ダークモードを基調としたモダンなデザイン。レスポンスの良いインタラクション。
